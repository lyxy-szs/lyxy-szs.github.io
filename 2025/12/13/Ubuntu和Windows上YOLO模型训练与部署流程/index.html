<!DOCTYPE html>
<html lang="zh-CN">

<head><!-- hexo injector head_begin start --><link href="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.2.0/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end -->
    <script src="https://cdn.bootcss.com/typed.js/2.0.5/typed.js"></script>
    <!-- �ַ��������ӿ����� -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<!-- <meta name="robots" content="nosnippet"> -->

<!-- վ��Ԫ��Ϣ -->

    <meta name="author" content="Lyxy-szs">


    <meta name="subtitle" content="Shi">




<!-- ҳ����⶯̬���� -->

<title>Ubuntu和Windows上YOLO模型训练与部署流程 | Johnson</title>

<!-- ��վͼ�� -->

    <link rel="icon" href="/2.ico">


<!-- �Զ���CSS�б������������ü��أ� -->

    
    <link rel="stylesheet" href="/css/style.css">
    


<!-- �Զ���JS�б������������ü��أ� -->

    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    
    <script src="/js/tellu.js"></script>
    
    <script src="/js/typed.min.js"></script>
    


<!-- MathJax��ʽ��Ⱦ֧�� -->

    

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const pagebody = document.getElementsByTagName('body')[0]

            function setTheme(status) {

                if (status === 'dark') {
                    window.sessionStorage.theme = 'dark'
                    pagebody.classList.add('dark');
                    pagebody.classList.remove('light');

                } else if (status === 'light') {
                    window.sessionStorage.theme = 'light'
                    pagebody.classList.add('light');
                    pagebody.classList.remove('dark');
                }
            };

            setTheme(window.sessionStorage.theme)
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Johnson&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                <a class="menu-item" href="/archives">文章</a>
                
                <a class="menu-item" href="/categories">类别</a>
                
                <a class="menu-item" href="/tags">标签</a>
                
                <a class="menu-item" href="/links">友链</a>
                
                <a class="menu-item" href="/games">游戏</a>
                
                <a class="menu-item" href="/downloads">下载</a>
                
                
                <!-- 桌面端搜索按钮 -->
                <button class="search-btn menu-item" style="
                    background: transparent; 
                    border: none; 
                    cursor: pointer; 
                    font-size: inherit; 
                    color: inherit;
                    padding: 0 10px;
                ">
                    搜索
                </button>

                <!-- 恢复默认主题切换结构 -->
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <!-- 恢复默认结构：&nbsp;改为空格 -->
                    <a href="/">Johnson&#39;s Blog</a><a id="mobile-toggle-theme">· Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">
                    <svg class="menu-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M4.5 17.27q-.213 0-.356-.145T4 16.768t.144-.356t.356-.143h15q.213 0 .356.144q.144.144.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.144T4 11.999t.144-.356t.356-.143h15q.213 0 .356.144t.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.143Q4 7.443 4 7.23t.144-.356t.356-.143h15q.213 0 .356.144T20 7.23t-.144.356t-.356.144z"/></svg>
                    <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m12 12.708l-5.246 5.246q-.14.14-.344.15t-.364-.15t-.16-.354t.16-.354L11.292 12L6.046 6.754q-.14-.14-.15-.344t.15-.364t.354-.16t.354.16L12 11.292l5.246-5.246q.14-.14.345-.15q.203-.01.363.15t.16.354t-.16.354L12.708 12l5.246 5.246q.14.14.15.345q.01.203-.15.363t-.354.16t-.354-.16z"/></svg>
                </div>
            </div>
            <div class="menu" id="mobile-menu">
                
                <a class="menu-item" href="/archives">文章</a>
                
                <a class="menu-item" href="/categories">类别</a>
                
                <a class="menu-item" href="/tags">标签</a>
                
                <a class="menu-item" href="/links">友链</a>
                
                <a class="menu-item" href="/games">游戏</a>
                
                <a class="menu-item" href="/downloads">下载</a>
                

                <!-- 移动端搜索按钮 -->
                <button class="search-btn menu-item" style="
                    background: transparent; 
                    border: none; 
                    cursor: pointer; 
                    font-size: inherit; 
                    color: inherit;
                ">
                    搜索
                </button>
            </div>
        </div>
    </nav>

</header>

<div id="searchModal" style="
    display: none; 
    position: fixed; 
    top: 20%; 
    left: 50%; 
    transform: translateX(-50%); 
    background: transparent; 
    backdrop-filter: blur(8px); 
    -webkit-backdrop-filter: blur(8px); 
    padding: 20px; 
    border-radius: 12px; 
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15); 
    z-index: 9999; 
    width: 80%; 
    max-width: 500px;
    border: 1px solid rgba(255, 255, 255, 0.1);
">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h3 id="searchTitle" style="margin: 0; font-size: 16px;">搜索文章</h3>
        <span class="search-close" style="cursor: pointer; font-size: 20px;">&times;</span>
    </div>
    <input type="text" id="searchInput" placeholder="输入关键词搜索..." style="
        width: 100%; 
        padding: 12px; 
        border: 1px solid #eee; 
        border-radius: 8px; 
        font-size: 14px;
        outline: none;
        box-sizing: border-box;
    ">
    <ul id="searchResult" style="list-style: none; padding: 0; margin-top: 15px; max-height: 300px; overflow-y: auto;"></ul>
</div>

<!-- 主题适配样式（优化搜索结果上下文和输入框样式） -->
<!-- 主题适配样式（优化搜索结果上下文和输入框样式） -->
<style>
    /* 白主题样式 - 搜索框和文字 */
    #searchTitle,
    #searchInput {
        color: #333 !important;
    }
    .search-close {
        color: #999 !important;
    }
    #searchInput {
        background: rgba(255, 255, 255, 0.85) !important;
        border-color: #ddd !important;
        color: #333 !important;
    }
    #searchResult li {
        border-bottom: 1px dashed #eee !important;
    }
    #searchInput::placeholder {
        color: #999 !important;
    }

    /* 搜索结果链接（文章名）样式 */
    #searchResult a {
        text-decoration: none;
        font-weight: 500;
        display: block;
        color: #333; /* 白主题下的文章名颜色 */
    }
    
    body.dark #searchResult a {
        color: #fff; /* 深色主题下的文章名颜色 */
    }

    /* 黑主题样式 - 搜索框和文字 */
    body.dark #searchTitle,
    body.dark #searchInput {
        color: #fff !important;
    }
    body.dark .search-close {
        color: #ccc !important;
    }
    body.dark #searchInput {
        background: rgba(50, 50, 50, 0.85) !important;
        border-color: #666 !important;
        color: #fff !important;
    }
    body.dark #searchResult li {
        border-bottom: 1px dashed #555 !important;
    }
    body.dark #searchInput::placeholder {
        color: #aaa !important;
    }

    /* 修改：搜索结果上下文样式 - 使用与文章名相同的颜色 */
    .search-context {
        display: block;
        font-size: 13px;
        margin-top: 6px;
        line-height: 1.5;
        height: 39px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        word-break: break-all;
        color: #333; /* 默认使用与文章名相同的浅色主题颜色 */
    }
    
    /* 深色主题下上下文使用与文章名相同的颜色 */
    body.dark .search-context {
        color: #fff; /* 使用与深色主题文章名相同的颜色 */
    }
    
    /* 保留关键词高亮样式 */
    .search-context mark {
        background-color: rgba(255, 215, 0, 0.3);
        color: inherit; /* 继承父元素的颜色 */
        padding: 0 2px;
        border-radius: 2px;
        font-weight: bold;
    }
    
    /* 深色主题下的关键词高亮 */
    body.dark .search-context mark {
        background-color: rgba(255, 215, 0, 0.4);
        color: #fff; /* 深色主题下mark标签文字颜色 */
    }

    /* ========== 搜索结果滚动条主题适配 ========== */
    /* 1. 白主题滚动条（默认） */
    #searchResult {
        scrollbar-width: thin;
        scrollbar-color: #ccc #f5f5f5;
    }
    
    /* 滚动条整体宽度 */
    #searchResult::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
    
    /* 滚动条轨道 */
    #searchResult::-webkit-scrollbar-track {
        background: #f5f5f5;
        border-radius: 3px;
    }
    
    /* 滚动条滑块 */
    #searchResult::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 3px;
    }
    
    /* 滑块hover状态 */
    #searchResult::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* 2. 黑主题滚动条 */
    body.dark #searchResult {
        scrollbar-width: thin;
        scrollbar-color: #666 #333;
    }
    
    body.dark #searchResult::-webkit-scrollbar-track {
        background: #333;
    }
    
    body.dark #searchResult::-webkit-scrollbar-thumb {
        background: #666;
    }
    
    body.dark #searchResult::-webkit-scrollbar-thumb:hover {
        background: #888;
    }

    /* 3. 搜索结果项目样式 */
    #searchResult li {
        padding: 12px 0;
        border-bottom: 1px solid rgba(0,0,0,0.05);
    }
    
    body.dark #searchResult li {
        border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    
    /* 文章链接悬停效果 */
    #searchResult a:hover {
        text-decoration: underline;
    }
</style>

<!-- 引入jQuery和搜索逻辑JS -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
<script>
    // 移动菜单切换函数（保持不变）
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }

    // 搜索功能逻辑（增加上下文提取功能）
    $(document).ready(function () {
        const $searchBtn = $('.search-btn');
        const $searchModal = $('#searchModal');
        const $searchInput = $('#searchInput');
        const $searchResult = $('#searchResult');

        // 显示/隐藏搜索框（保持不变）
        $searchBtn.click(function (e) {
            e.preventDefault();
            $searchModal.toggle();
            if ($searchModal.is(':visible')) {
                $searchInput.focus();
            } else {
                $searchInput.val('');
                $searchResult.empty();
            }
        });

        // 关闭搜索框（保持不变）
        $('.search-close').click(function () {
            $searchModal.hide();
            $searchInput.val('');
            $searchResult.empty();
        });

        // 点击外部关闭（保持不变）
        $(document).click(function (e) {
            if (
                !$searchModal.is(e.target) && 
                !$searchModal.has(e.target).length && 
                !$searchBtn.is(e.target)
            ) {
                $searchModal.hide();
                $searchInput.val('');
                $searchResult.empty();
            }
        });

        // 从文本中提取关键词上下文（优化版）
        function extractContext(text, keyword, maxLength = 150) {
            if (!text || !keyword) return '';
            
            // 将文本和关键词都转为小写进行匹配
            const lowerText = text.toLowerCase();
            const lowerKeyword = keyword.toLowerCase();
            
            // 查找关键词在文本中的位置
            const index = lowerText.indexOf(lowerKeyword);
            
            if (index === -1) {
                // 如果没有找到关键词，返回文本开头部分
                const shortText = text.substring(0, maxLength);
                return shortText + (text.length > maxLength ? '...' : '');
            }
            
            // 计算截取范围：关键词前后各取一半
            const start = Math.max(0, index - maxLength / 2);
            const end = Math.min(text.length, index + keyword.length + maxLength / 2);
            
            let context = text.substring(start, end);
            
            // 在开头和结尾添加省略号
            if (start > 0) context = '...' + context;
            if (end < text.length) context = context + '...';
            
            // 高亮关键词（保持原始大小写）
            const originalKeyword = text.substring(index, index + keyword.length);
            const regex = new RegExp(originalKeyword.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi');
            
            return context.replace(regex, match => `<mark>${match}</mark>`);
        }

        // 去除HTML标签，获取纯文本
        function stripHtml(html) {
            const tmp = document.createElement('div');
            tmp.innerHTML = html;
            return tmp.textContent || tmp.innerText || '';
        }

        // 关键词搜索（显示带上下文的搜索结果）
        $searchInput.on('input', function () {
            const searchText = $(this).val().trim().toLowerCase();
            $searchResult.empty();

            if (searchText.length < 2) return;

            $.get('/search.xml', function (xml) {
                let hasMatch = false;
                $(xml).find('entry').each(function () {
                    const $entry = $(this);
                    const title = $entry.find('title').text();
                    const link = $entry.find('url').text();
                    const rawContent = $entry.find('content').text();
                    const content = stripHtml(rawContent);
                    
                    // 搜索标题和内容
                    const titleMatch = title.toLowerCase().includes(searchText);
                    const contentMatch = content.toLowerCase().includes(searchText);
                    
                    if (titleMatch || contentMatch) {
                        // 提取上下文
                        let context = '';
                        if (contentMatch) {
                            context = extractContext(content, searchText, 150);
                        } else if (titleMatch) {
                            // 如果只是标题匹配，高亮标题中的关键词
                            const titleContext = title.replace(
                                new RegExp(searchText, 'gi'), 
                                match => `<mark>${match}</mark>`
                            );
                            context = `标题匹配: ${titleContext}`;
                        }
                        
                        $searchResult.append(`
                            <li>
                                <a href="${link}?keyword=${encodeURIComponent(searchText)}" target="_blank">
                                    ${title}
                                </a>
                                <span class="search-context">${context}</span>
                            </li>
                        `);
                        hasMatch = true;
                    }
                });

                if (!hasMatch) {
                    $searchResult.append(`
                        <li style="padding: 10px; text-align: center; color: #888;">
                            未找到包含"${searchText}"的文章
                        </li>
                    `);
                }
            }).fail(function () {
                $searchResult.append(`
                    <li style="padding: 10px; color: #f44336; text-align: center;">
                        搜索索引加载失败，请确保已生成search.xml
                    </li>
                `);
            });
        });
    });
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Ubuntu和Windows上YOLO模型训练与部署流程</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Lyxy-szs</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">十二月 13, 2025&nbsp;&nbsp;19:12:04</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>针对在Ubuntu 22.04和Windows 11系统上，使用纯Intel CPU进行YOLO模型训练与应用的需求，我将为你梳理一个清晰的流程。核心是利用<strong>OpenVINO工具套件</strong>对YOLO模型进行优化，以在CPU上获得最佳的推理性能。</p>
<h3 id="双系统方案概览"><a href="#双系统方案概览" class="headerlink" title="? 双系统方案概览"></a>? 双系统方案概览</h3><p>在开始具体步骤前，你可以通过下面的对比了解两个系统的主要异同，这有助于你根据熟悉的操作环境进行选择。</p>
<p><strong>Ubuntu 22.04 方案</strong></p>
<ul>
<li><strong>核心优势</strong><ul>
<li><strong>开发友好性</strong>：对Python、C++等开发环境支持原生，命令行操作高效。</li>
<li><strong>资源开销</strong>：系统本身资源占用相对较低，可将更多算力用于训练。</li>
<li><strong>部署一致性</strong>：服务器端主流系统，一次开发，部署环境统一。</li>
</ul>
</li>
<li><strong>潜在考虑</strong><ul>
<li><strong>硬件驱动</strong>：需自行确保CPU等驱动为最新版本以发挥全部性能。</li>
<li><strong>操作习惯</strong>：若习惯图形界面，需要适应命令行操作。</li>
</ul>
</li>
<li><strong>推荐适用场景</strong><ul>
<li>模型训练、算法开发、生产服务器部署。</li>
</ul>
</li>
</ul>
<p><strong>Windows 11 方案</strong></p>
<ul>
<li><strong>核心优势</strong><ul>
<li><strong>生态兼容性</strong>：与常用办公软件、专业工具兼容性好。</li>
<li><strong>硬件支持</strong>：通常能通过系统更新自动获得最新的硬件驱动支持。</li>
<li><strong>图形化界面</strong>：拥有丰富的图形化工具（如OpenVINO? C# API），便于快速搭建演示程序。</li>
</ul>
</li>
<li><strong>潜在考虑</strong><ul>
<li><strong>系统开销</strong>：图形界面本身会占用部分系统资源。</li>
<li><strong>路径与依赖</strong>：需注意Python环境、路径分隔符（<code>\</code>）与Linux（<code>/</code>）的区别。</li>
</ul>
</li>
<li><strong>推荐适用场景</strong><ul>
<li>快速原型验证、桌面端应用集成、边缘设备部署（如英特尔开发套件）。</li>
</ul>
</li>
</ul>
<p><strong>两者的共同核心</strong><br>无论选择哪个系统，后续的<strong>核心工作流程是通用的</strong>，都遵循：准备环境 → 准备数据与训练 → 模型优化 → 应用部署。两个系统的主要区别集中在初始环境配置和部分依赖安装命令上。</p>
<h3 id="详细步骤指南"><a href="#详细步骤指南" class="headerlink" title="?? 详细步骤指南"></a>?? 详细步骤指南</h3><p>下面以当前主流的 <strong>YOLOv8</strong> 为例（其流程也适用于更新的v9&#x2F;v10等版本），介绍从环境配置到部署的完整步骤。</p>
<h4 id="第一步：环境配置与项目初始化"><a href="#第一步：环境配置与项目初始化" class="headerlink" title="第一步：环境配置与项目初始化"></a>第一步：环境配置与项目初始化</h4><p>这是操作系统差异最明显的环节，主要是安装方式不同。</p>
<p><strong>在 Ubuntu 22.04 上</strong></p>
<ol>
<li><strong>安装Python及基础工具</strong>：打开终端，运行以下命令。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install python3 python3-pip git</span><br></pre></td></tr></table></figure></li>
<li><strong>创建虚拟环境</strong>：推荐使用 <code>venv</code> 或 <code>conda</code> 隔离环境。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install --user virtualenv</span><br><span class="line">python3 -m virtualenv openvino_env</span><br><span class="line"><span class="built_in">source</span> openvino_env/bin/activate</span><br></pre></td></tr></table></figure></li>
<li><strong>安装关键库</strong>：在激活的虚拟环境中安装。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ultralytics openvino-dev[caffe,onnx,tensorflow2]</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>在 Windows 11 上</strong></p>
<ol>
<li><strong>安装Python</strong>：访问 <a target="_blank" rel="noopener" href="https://www.python.org/">python.org</a> 下载并安装Python 3.10或3.11，安装时请勾选“Add Python to PATH”。</li>
<li><strong>使用命令行</strong>：以管理员身份打开“命令提示符”或“PowerShell”。</li>
<li><strong>创建并激活虚拟环境</strong>：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m venv openvino_win_env</span><br><span class="line">openvino_win_env\Scripts\activate</span><br></pre></td></tr></table></figure></li>
<li><strong>安装关键库</strong>：命令与Linux相同。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ultralytics openvino-dev[caffe,onnx,tensorflow2]</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="第二步：准备数据并训练模型"><a href="#第二步：准备数据并训练模型" class="headerlink" title="第二步：准备数据并训练模型"></a>第二步：准备数据并训练模型</h4><p>两个系统在此步骤的命令完全相同。</p>
<ol>
<li><strong>准备数据集</strong>：将你的图片和标签按YOLO格式组织。标签文件是 <code>.txt</code> 格式，内容为 <code>类别id x_center y_center width height</code>（归一化坐标）。目录结构参考如下：<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">your_dataset<span class="symbol">/</span></span><br><span class="line">├── images<span class="symbol">/</span></span><br><span class="line">│   ├── train<span class="symbol">/</span></span><br><span class="line">│   └── val<span class="symbol">/</span></span><br><span class="line">└── labels<span class="symbol">/</span></span><br><span class="line">    ├── train<span class="symbol">/</span></span><br><span class="line">    └── val<span class="operator">/</span></span><br></pre></td></tr></table></figure></li>
<li><strong>创建数据集配置文件</strong>：创建一个 <code>data.yaml</code> 文件，指明路径和类别。<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">train:</span> <span class="string">/path/to/your_dataset/images/train</span></span><br><span class="line"><span class="attr">val:</span> <span class="string">/path/to/your_dataset/images/val</span></span><br><span class="line"><span class="attr">nc:</span> <span class="number">2</span>  <span class="comment"># 你的物体类别数，例如2类</span></span><br><span class="line"><span class="attr">names:</span> [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>]  <span class="comment"># 类别名称列表</span></span><br></pre></td></tr></table></figure></li>
<li><strong>启动训练</strong>：使用Ultralytics YOLO简洁的CLI命令进行训练。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yolo detect train data=data.yaml model=yolov8n.pt epochs=50 imgsz=640</span><br></pre></td></tr></table></figure>
<ul>
<li><code>yolov8n.pt</code>：可更换为 <code>yolov8s.pt</code>, <code>yolov8m.pt</code> 等不同大小的预训练模型。</li>
<li><code>epochs</code>、<code>imgsz</code>：可根据你的计算资源和任务调整。</li>
</ul>
</li>
</ol>
<h4 id="第三步：模型测试与导出"><a href="#第三步：模型测试与导出" class="headerlink" title="第三步：模型测试与导出"></a>第三步：模型测试与导出</h4><ol>
<li><strong>模型测试</strong>：训练完成后，最佳模型会保存在 <code>runs/detect/train/weights/best.pt</code>。使用它进行预测。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yolo predict model=runs/detect/train/weights/best.pt <span class="built_in">source</span>=<span class="string">&#x27;path/to/test_image.jpg&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>导出为OpenVINO格式</strong>：这是为Intel CPU优化的关键步骤。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yolo <span class="built_in">export</span> model=runs/detect/train/weights/best.pt format=openvino</span><br></pre></td></tr></table></figure>
导出后，你会得到一个 <code>.xml</code>（模型结构）和一个 <code>.bin</code>（模型权重）文件。</li>
</ol>
<h4 id="第四步：使用OpenVINO优化与部署"><a href="#第四步：使用OpenVINO优化与部署" class="headerlink" title="第四步：使用OpenVINO优化与部署"></a>第四步：使用OpenVINO优化与部署</h4><p>这是发挥Intel CPU性能潜力的核心。</p>
<ol>
<li><strong>编写OpenVINO推理脚本</strong>：创建一个Python脚本（如 <code>openvino_infer.py</code>），使用导出的模型进行高性能推理。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> openvino <span class="keyword">import</span> runtime <span class="keyword">as</span> ov</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 初始化并加载模型</span></span><br><span class="line">core = ov.Core()</span><br><span class="line">compiled_model = core.compile_model(<span class="string">&quot;path/to/best.xml&quot;</span>, <span class="string">&quot;CPU&quot;</span>)  <span class="comment"># 指定CPU设备</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 准备输入数据（需要根据模型要求进行预处理，如调整大小、归一化）</span></span><br><span class="line">image = cv2.imread(<span class="string">&quot;test.jpg&quot;</span>)</span><br><span class="line">input_tensor = np.expand_dims(preprocessed_image, <span class="number">0</span>)  <span class="comment"># 添加batch维度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 推理</span></span><br><span class="line">results = compiled_model(input_tensor)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 后处理（解析YOLO输出，画框等）</span></span><br><span class="line"><span class="comment"># ... (后处理代码，取决于具体的YOLO版本和导出参数)</span></span><br></pre></td></tr></table></figure>
<strong>关键说明</strong>：YOLO模型通过OpenVINO导出后，其前处理（如图像归一化）和后处理（解码边界框）可能需要你根据模型原始定义手动完成，或参考OpenVINO官方提供的YOLO范例代码。</li>
<li><strong>进一步优化（可选）</strong>：<ul>
<li><strong>量化</strong>：使用OpenVINO的<code>nncf</code>库将FP32模型转换为INT8，可以大幅提升推理速度，精度损失很小。</li>
<li><strong>性能调优</strong>：在<code>compile_model</code>时，可以配置CPU线程数、推理精度等参数。</li>
</ul>
</li>
</ol>
<h3 id="核心建议与后续方向"><a href="#核心建议与后续方向" class="headerlink" title="? 核心建议与后续方向"></a>? 核心建议与后续方向</h3><p>为了让你的项目更顺利，这里有一些关键建议：</p>
<ul>
<li><strong>从轻量模型开始</strong>：在CPU上训练和推理，建议从 <code>yolov8n</code>（nano）或 <code>yolov8s</code>（small）开始，速度更快。</li>
<li><strong>利用官方资源</strong>：OpenVINO工具包提供了丰富的<a target="_blank" rel="noopener" href="https://github.com/openvinotoolkit/openvino_notebooks">示例代码</a>，其中有完整的YOLO系列从导出到部署的笔记本，是解决具体问题的最佳参考。</li>
<li><strong>性能对比</strong>：在部署前，用OpenVINO推理脚本和原始的PyTorch模型（<code>best.pt</code>）在相同输入上对比结果，确保转换无误。</li>
</ul>
<p>如果你想继续深入，以下几个方向可能会对你有帮助：</p>
<ol>
<li><strong>性能瓶颈分析</strong>：如果你的应用对实时性要求高，是否需要分析是CPU算力瓶颈还是推理代码本身的效率问题？</li>
<li><strong>高级优化技巧</strong>：是否有兴趣了解更深入的OpenVINO优化技术，例如模型剪枝与INT8量化的具体操作？</li>
<li><strong>部署形态</strong>：你的最终目标是部署成什么样的应用？是桌面软件、Web服务还是嵌入式设备？这会影响技术选型。</li>
</ol>
<p>你可以告诉我更具体的兴趣点，我能提供更有针对性的信息。</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Lyxy-szs</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://lyxy-szs.github.io/2025/12/13/Ubuntu%E5%92%8CWindows%E4%B8%8AYOLO%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/">http://lyxy-szs.github.io/2025/12/13/Ubuntu%E5%92%8CWindows%E4%B8%8AYOLO%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B/</a></span>
                    </p>
                
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>永远相信<strong>美好的事情即将發生</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/python/"># python</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2025/12/16/new/">new</a>
            
            
            <a class="next" rel="next" href="/2025/12/06/C&note/">C/note1</a>
            
        </section>


    </article>
</div>

<!-- �����ڹؼ��ʶ�λ+�����߼� -->
<script>
// 1. ��URL�л�ȡ�ؼ��ʲ���
function getUrlParam(name) {
  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`);
  const r = window.location.search.substr(1).match(reg);
  if (r != null) return decodeURIComponent(r[2]);
  return null;
}

// 2. �������������ؼ���λ��
function highlightAndScrollToKeyword() {
  const keyword = getUrlParam('keyword');
  if (!keyword || keyword.length < 2) return; // �޹ؼ���/�ؼ��ʹ���������

  // ��λ������������Chic�����������ݵ�������������ȷ���Ƿ�ƥ�䣬Ĭ����.post-content��
  const contentEl = document.querySelector('.post-content');
  if (!contentEl) return;

  // ��¡���ݣ�����ֱ���޸�ԭDOM���µ�����
  const contentHtml = contentEl.innerHTML;
  // ����ƥ��ؼ��ʣ����Դ�Сд��ȫ��ƥ�䣩
  const reg = new RegExp(`(${keyword})`, 'gi');
  // �滻�ؼ��ʲ����Ӹ�����ʽ
  const newHtml = contentHtml.replace(reg, '<span style="background: #ffff00; color: #333; padding: 0 2px; border-radius: 2px;">$1</span>');
  contentEl.innerHTML = newHtml;

  // 3. ��������һ��ƥ��Ĺؼ���λ��
  const firstHighlight = contentEl.querySelector('span[style*="background: #ffff00"]');
  if (firstHighlight) {
    // ƽ���������ؼ���λ�ã�ƫ��-80px�����ⱻ�������ڵ���
    firstHighlight.scrollIntoView({
      behavior: 'smooth',
      block: 'center'
    });
    // ����һ������Ԫ��������˸Ч������ǿ�Ӿ���ʾ
    firstHighlight.animate([
      { opacity: 0.5 },
      { opacity: 1 }
    ], {
      duration: 1000,
      iterations: 2
    });
  }
}

// ҳ�������ɺ�ִ��
window.onload = function() {
  highlightAndScrollToKeyword();
};
</script>
            </div>
            <footer id="footer" class="footer">
    <div class="footer-typing-container">
        <span id="footer-typed-text"></span>
    </div>
    <div class="copyright">
        <span>© Lyxy-szs | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

<script>
    // 等待页面文档加载完毕
    document.addEventListener('DOMContentLoaded', function () {
        // 确保容器元素存在
        const typedElement = document.getElementById('footer-typed-text');
        if (typedElement) {
            var typed = new Typed('#footer-typed-text', {
                strings: [
                    "永远相信 美好的事情即将發生 临渊羡鱼shi",
                    "知识就是力量。 弗朗西斯·培根",  
                    "我思故我在。 勒内·笛卡尔",  
                    "人生苦短，及时行乐。 贺拉斯",  
                    "活着就是为了改变世界，难道还有其他原因吗？ 史蒂夫·乔布斯",  
                    "黑暗不能驱走黑暗，只有光可以做到；仇恨不能驱走仇恨，只有爱可以做到。 马丁·路德·金",  
                    "成功是从一个失败到另一个失败而不失去热情的能力。 温斯顿·丘吉尔",  
                    "教育不是填满一个桶，而是点燃一把火。 威廉·巴特勒·叶芝",  
                    "战争就是和平，自由就是奴役，无知就是力量。 乔治·奥威尔《一九八四》",  
                    "人是为了反抗而生的。 阿尔贝·加缪",  
                    "幸福取决于我们自己。 亚里士多德",  
                    "唯一值得我们恐惧的是恐惧本身。 富兰克林·D·罗斯福",  
                    "生命的意义在于给予。 列夫·托尔斯泰",  
                    "不要为小事烦恼，所有事都是小事。 理查德·卡尔森",  
                    "梦想不会通过魔法实现；它需要汗水、决心和努力。 科林·鲍威尔",  
                    "最好的报复是巨大的成功。 弗兰克·辛纳屈",  
                    "你只活一次，但如果你做得对，一次就足够了。 梅·韦斯特"
                ], // 字符串数组，会依次键入
                typeSpeed: 60,    // 打字速度，数值越小越快[citation:2]
                backSpeed: 40,    // 回退删除的速度[citation:2]
                backDelay: 1500,  // 一句打完后的暂停时间（毫秒）[citation:2]
                loop: true,       // 是否循环[citation:2]
                showCursor: true, // 是否显示闪烁光标[citation:4]
                cursorChar: '_'   // 自定义光标字符[citation:4]
            });
        }
    });
</script>
    </div>
    
    
<script src="/js/typed.min.js"></script>

    
<script src="/js/tellu.js"></script>

<!-- hexo injector body_end start --><script src="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.2.0/js/index.js"></script><!-- hexo injector body_end end --></body>

</html>